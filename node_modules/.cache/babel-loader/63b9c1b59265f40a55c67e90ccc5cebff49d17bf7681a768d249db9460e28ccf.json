{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Component, createRef } from 'react';\nimport { createSchemaUtils, deepEquals, getTemplate, getUiOptions, isObject, mergeObjects, NAME_KEY, RJSF_ADDITONAL_PROPERTIES_FLAG, shouldRender, SUBMIT_BTN_OPTIONS_KEY, toErrorList, UI_GLOBAL_OPTIONS_KEY, UI_OPTIONS_KEY, validationDataMerge } from '@rjsf/utils';\nimport _get from 'lodash/get';\nimport _isEmpty from 'lodash/isEmpty';\nimport _pick from 'lodash/pick';\nimport _toPath from 'lodash/toPath';\nimport getDefaultRegistry from '../getDefaultRegistry';\n/** The `Form` component renders the outer form and all the fields defined in the `schema` */\nexport default class Form extends Component {\n  /** Constructs the `Form` from the `props`. Will setup the initial state from the props. It will also call the\n   * `onChange` handler if the initially provided `formData` is modified to add missing default values as part of the\n   * state construction.\n   *\n   * @param props - The initial props for the `Form`\n   */\n  constructor(props) {\n    super(props);\n    /** Returns the `formData` with only the elements specified in the `fields` list\n     *\n     * @param formData - The data for the `Form`\n     * @param fields - The fields to keep while filtering\n     */\n    this.getUsedFormData = (formData, fields) => {\n      // For the case of a single input form\n      if (fields.length === 0 && typeof formData !== 'object') {\n        return formData;\n      }\n      // _pick has incorrect type definition, it works with string[][], because lodash/hasIn supports it\n      const data = _pick(formData, fields);\n      if (Array.isArray(formData)) {\n        return Object.keys(data).map(key => data[key]);\n      }\n      return data;\n    };\n    /** Returns the list of field names from inspecting the `pathSchema` as well as using the `formData`\n     *\n     * @param pathSchema - The `PathSchema` object for the form\n     * @param [formData] - The form data to use while checking for empty objects/arrays\n     */\n    this.getFieldNames = (pathSchema, formData) => {\n      const getAllPaths = (_obj, acc = [], paths = [[]]) => {\n        Object.keys(_obj).forEach(key => {\n          if (typeof _obj[key] === 'object') {\n            const newPaths = paths.map(path => [...path, key]);\n            // If an object is marked with additionalProperties, all its keys are valid\n            if (_obj[key][RJSF_ADDITONAL_PROPERTIES_FLAG] && _obj[key][NAME_KEY] !== '') {\n              acc.push(_obj[key][NAME_KEY]);\n            } else {\n              getAllPaths(_obj[key], acc, newPaths);\n            }\n          } else if (key === NAME_KEY && _obj[key] !== '') {\n            paths.forEach(path => {\n              const formValue = _get(formData, path);\n              // adds path to fieldNames if it points to a value\n              // or an empty object/array\n              if (typeof formValue !== 'object' || _isEmpty(formValue) || Array.isArray(formValue) && formValue.every(val => typeof val !== 'object')) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n      return getAllPaths(pathSchema);\n    };\n    /** Function to handle changes made to a field in the `Form`. This handler receives an entirely new copy of the\n     * `formData` along with a new `ErrorSchema`. It will first update the `formData` with any missing default fields and\n     * then, if `omitExtraData` and `liveOmit` are turned on, the `formData` will be filterer to remove any extra data not\n     * in a form field. Then, the resulting formData will be validated if required. The state will be updated with the new\n     * updated (potentially filtered) `formData`, any errors that resulted from validation. Finally the `onChange`\n     * callback will be called if specified with the updated state.\n     *\n     * @param formData - The new form data from a change to a field\n     * @param newErrorSchema - The new `ErrorSchema` based on the field change\n     * @param id - The id of the field that caused the change\n     */\n    this.onChange = (formData, newErrorSchema, id) => {\n      const {\n        extraErrors,\n        omitExtraData,\n        liveOmit,\n        noValidate,\n        liveValidate,\n        onChange\n      } = this.props;\n      const {\n        schemaUtils,\n        schema,\n        retrievedSchema\n      } = this.state;\n      if (isObject(formData) || Array.isArray(formData)) {\n        const newState = this.getStateFromProps(this.props, formData, retrievedSchema);\n        formData = newState.formData;\n      }\n      const mustValidate = !noValidate && liveValidate;\n      let state = {\n        formData,\n        schema\n      };\n      let newFormData = formData;\n      let _retrievedSchema;\n      if (omitExtraData === true && liveOmit === true) {\n        _retrievedSchema = schemaUtils.retrieveSchema(schema, formData);\n        const pathSchema = schemaUtils.toPathSchema(_retrievedSchema, '', formData);\n        const fieldNames = this.getFieldNames(pathSchema, formData);\n        newFormData = this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n      if (mustValidate) {\n        const schemaValidation = this.validate(newFormData, schema, schemaUtils, retrievedSchema);\n        let errors = schemaValidation.errors;\n        let errorSchema = schemaValidation.errorSchema;\n        const schemaValidationErrors = errors;\n        const schemaValidationErrorSchema = errorSchema;\n        if (extraErrors) {\n          const merged = validationDataMerge(schemaValidation, extraErrors);\n          errorSchema = merged.errorSchema;\n          errors = merged.errors;\n        }\n        state = {\n          formData: newFormData,\n          errors,\n          errorSchema,\n          schemaValidationErrors,\n          schemaValidationErrorSchema\n        };\n      } else if (!noValidate && newErrorSchema) {\n        const errorSchema = extraErrors ? mergeObjects(newErrorSchema, extraErrors, 'preventDuplicates') : newErrorSchema;\n        state = {\n          formData: newFormData,\n          errorSchema: errorSchema,\n          errors: toErrorList(errorSchema)\n        };\n      }\n      if (_retrievedSchema) {\n        state.retrievedSchema = _retrievedSchema;\n      }\n      this.setState(state, () => onChange && onChange({\n        ...this.state,\n        ...state\n      }, id));\n    };\n    /**\n     * Callback function to handle reset form data.\n     * - Reset all fields with default values.\n     * - Reset validations and errors\n     *\n     */\n    this.reset = () => {\n      const {\n        onChange\n      } = this.props;\n      const newState = this.getStateFromProps(this.props, undefined);\n      const newFormData = newState.formData;\n      const state = {\n        formData: newFormData,\n        errorSchema: {},\n        errors: [],\n        schemaValidationErrors: [],\n        schemaValidationErrorSchema: {}\n      };\n      this.setState(state, () => onChange && onChange({\n        ...this.state,\n        ...state\n      }));\n    };\n    /** Callback function to handle when a field on the form is blurred. Calls the `onBlur` callback for the `Form` if it\n     * was provided.\n     *\n     * @param id - The unique `id` of the field that was blurred\n     * @param data - The data associated with the field that was blurred\n     */\n    this.onBlur = (id, data) => {\n      const {\n        onBlur\n      } = this.props;\n      if (onBlur) {\n        onBlur(id, data);\n      }\n    };\n    /** Callback function to handle when a field on the form is focused. Calls the `onFocus` callback for the `Form` if it\n     * was provided.\n     *\n     * @param id - The unique `id` of the field that was focused\n     * @param data - The data associated with the field that was focused\n     */\n    this.onFocus = (id, data) => {\n      const {\n        onFocus\n      } = this.props;\n      if (onFocus) {\n        onFocus(id, data);\n      }\n    };\n    /** Callback function to handle when the form is submitted. First, it prevents the default event behavior. Nothing\n     * happens if the target and currentTarget of the event are not the same. It will omit any extra data in the\n     * `formData` in the state if `omitExtraData` is true. It will validate the resulting `formData`, reporting errors\n     * via the `onError()` callback unless validation is disabled. Finally, it will add in any `extraErrors` and then call\n     * back the `onSubmit` callback if it was provided.\n     *\n     * @param event - The submit HTML form event\n     */\n    this.onSubmit = event => {\n      event.preventDefault();\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n      event.persist();\n      const {\n        omitExtraData,\n        extraErrors,\n        noValidate,\n        onSubmit\n      } = this.props;\n      let {\n        formData: newFormData\n      } = this.state;\n      const {\n        schema,\n        schemaUtils\n      } = this.state;\n      if (omitExtraData === true) {\n        const retrievedSchema = schemaUtils.retrieveSchema(schema, newFormData);\n        const pathSchema = schemaUtils.toPathSchema(retrievedSchema, '', newFormData);\n        const fieldNames = this.getFieldNames(pathSchema, newFormData);\n        newFormData = this.getUsedFormData(newFormData, fieldNames);\n      }\n      if (noValidate || this.validateForm()) {\n        // There are no errors generated through schema validation.\n        // Check for user provided errors and update state accordingly.\n        const errorSchema = extraErrors || {};\n        const errors = extraErrors ? toErrorList(extraErrors) : [];\n        this.setState({\n          formData: newFormData,\n          errors,\n          errorSchema,\n          schemaValidationErrors: [],\n          schemaValidationErrorSchema: {}\n        }, () => {\n          if (onSubmit) {\n            onSubmit({\n              ...this.state,\n              formData: newFormData,\n              status: 'submitted'\n            }, event);\n          }\n        });\n      }\n    };\n    if (!props.validator) {\n      throw new Error('A validator is required for Form functionality to work');\n    }\n    this.state = this.getStateFromProps(props, props.formData);\n    if (this.props.onChange && !deepEquals(this.state.formData, this.props.formData)) {\n      this.props.onChange(this.state);\n    }\n    this.formElement = createRef();\n  }\n  /**\n   * `getSnapshotBeforeUpdate` is a React lifecycle method that is invoked right before the most recently rendered\n   * output is committed to the DOM. It enables your component to capture current values (e.g., scroll position) before\n   * they are potentially changed.\n   *\n   * In this case, it checks if the props have changed since the last render. If they have, it computes the next state\n   * of the component using `getStateFromProps` method and returns it along with a `shouldUpdate` flag set to `true` IF\n   * the `nextState` and `prevState` are different, otherwise `false`. This ensures that we have the most up-to-date\n   * state ready to be applied in `componentDidUpdate`.\n   *\n   * If `formData` hasn't changed, it simply returns an object with `shouldUpdate` set to `false`, indicating that a\n   * state update is not necessary.\n   *\n   * @param prevProps - The previous set of props before the update.\n   * @param prevState - The previous state before the update.\n   * @returns Either an object containing the next state and a flag indicating that an update should occur, or an object\n   *        with a flag indicating that an update is not necessary.\n   */\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (!deepEquals(this.props, prevProps)) {\n      const nextState = this.getStateFromProps(this.props, this.props.formData, prevProps.schema !== this.props.schema ? undefined : this.state.retrievedSchema);\n      const shouldUpdate = !deepEquals(nextState, prevState);\n      return {\n        nextState,\n        shouldUpdate\n      };\n    }\n    return {\n      shouldUpdate: false\n    };\n  }\n  /**\n   * `componentDidUpdate` is a React lifecycle method that is invoked immediately after updating occurs. This method is\n   * not called for the initial render.\n   *\n   * Here, it checks if an update is necessary based on the `shouldUpdate` flag received from `getSnapshotBeforeUpdate`.\n   * If an update is required, it applies the next state and, if needed, triggers the `onChange` handler to inform about\n   * changes.\n   *\n   * This method effectively replaces the deprecated `UNSAFE_componentWillReceiveProps`, providing a safer alternative\n   * to handle prop changes and state updates.\n   *\n   * @param _ - The previous set of props.\n   * @param prevState - The previous state of the component before the update.\n   * @param snapshot - The value returned from `getSnapshotBeforeUpdate`.\n   */\n  componentDidUpdate(_, prevState, snapshot) {\n    if (snapshot.shouldUpdate) {\n      const {\n        nextState\n      } = snapshot;\n      if (!deepEquals(nextState.formData, this.props.formData) && !deepEquals(nextState.formData, prevState.formData) && this.props.onChange) {\n        this.props.onChange(nextState);\n      }\n      this.setState(nextState);\n    }\n  }\n  /** Extracts the updated state from the given `props` and `inputFormData`. As part of this process, the\n   * `inputFormData` is first processed to add any missing required defaults. After that, the data is run through the\n   * validation process IF required by the `props`.\n   *\n   * @param props - The props passed to the `Form`\n   * @param inputFormData - The new or current data for the `Form`\n   * @returns - The new state for the `Form`\n   */\n  getStateFromProps(props, inputFormData, retrievedSchema) {\n    const state = this.state || {};\n    const schema = 'schema' in props ? props.schema : this.props.schema;\n    const uiSchema = ('uiSchema' in props ? props.uiSchema : this.props.uiSchema) || {};\n    const edit = typeof inputFormData !== 'undefined';\n    const liveValidate = 'liveValidate' in props ? props.liveValidate : this.props.liveValidate;\n    const mustValidate = edit && !props.noValidate && liveValidate;\n    const rootSchema = schema;\n    const experimental_defaultFormStateBehavior = 'experimental_defaultFormStateBehavior' in props ? props.experimental_defaultFormStateBehavior : this.props.experimental_defaultFormStateBehavior;\n    let schemaUtils = state.schemaUtils;\n    if (!schemaUtils || schemaUtils.doesSchemaUtilsDiffer(props.validator, rootSchema, experimental_defaultFormStateBehavior)) {\n      schemaUtils = createSchemaUtils(props.validator, rootSchema, experimental_defaultFormStateBehavior);\n    }\n    const formData = schemaUtils.getDefaultFormState(schema, inputFormData);\n    const _retrievedSchema = retrievedSchema !== null && retrievedSchema !== void 0 ? retrievedSchema : schemaUtils.retrieveSchema(schema, formData);\n    const getCurrentErrors = () => {\n      if (props.noValidate) {\n        return {\n          errors: [],\n          errorSchema: {}\n        };\n      } else if (!props.liveValidate) {\n        return {\n          errors: state.schemaValidationErrors || [],\n          errorSchema: state.schemaValidationErrorSchema || {}\n        };\n      }\n      return {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {}\n      };\n    };\n    let errors;\n    let errorSchema;\n    let schemaValidationErrors = state.schemaValidationErrors;\n    let schemaValidationErrorSchema = state.schemaValidationErrorSchema;\n    if (mustValidate) {\n      const schemaValidation = this.validate(formData, schema, schemaUtils, _retrievedSchema);\n      errors = schemaValidation.errors;\n      errorSchema = schemaValidation.errorSchema;\n      schemaValidationErrors = errors;\n      schemaValidationErrorSchema = errorSchema;\n    } else {\n      const currentErrors = getCurrentErrors();\n      errors = currentErrors.errors;\n      errorSchema = currentErrors.errorSchema;\n    }\n    if (props.extraErrors) {\n      const merged = validationDataMerge({\n        errorSchema,\n        errors\n      }, props.extraErrors);\n      errorSchema = merged.errorSchema;\n      errors = merged.errors;\n    }\n    const idSchema = schemaUtils.toIdSchema(_retrievedSchema, uiSchema['ui:rootFieldId'], formData, props.idPrefix, props.idSeparator);\n    const nextState = {\n      schemaUtils,\n      schema,\n      uiSchema,\n      idSchema,\n      formData,\n      edit,\n      errors,\n      errorSchema,\n      schemaValidationErrors,\n      schemaValidationErrorSchema,\n      retrievedSchema: _retrievedSchema\n    };\n    return nextState;\n  }\n  /** React lifecycle method that is used to determine whether component should be updated.\n   *\n   * @param nextProps - The next version of the props\n   * @param nextState - The next version of the state\n   * @returns - True if the component should be updated, false otherwise\n   */\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  }\n  /** Validates the `formData` against the `schema` using the `altSchemaUtils` (if provided otherwise it uses the\n   * `schemaUtils` in the state), returning the results.\n   *\n   * @param formData - The new form data to validate\n   * @param schema - The schema used to validate against\n   * @param altSchemaUtils - The alternate schemaUtils to use for validation\n   */\n  validate(formData, schema = this.props.schema, altSchemaUtils, retrievedSchema) {\n    const schemaUtils = altSchemaUtils ? altSchemaUtils : this.state.schemaUtils;\n    const {\n      customValidate,\n      transformErrors,\n      uiSchema\n    } = this.props;\n    const resolvedSchema = retrievedSchema !== null && retrievedSchema !== void 0 ? retrievedSchema : schemaUtils.retrieveSchema(schema, formData);\n    return schemaUtils.getValidator().validateFormData(formData, resolvedSchema, customValidate, transformErrors, uiSchema);\n  }\n  /** Renders any errors contained in the `state` in using the `ErrorList`, if not disabled by `showErrorList`. */\n  renderErrors(registry) {\n    const {\n      errors,\n      errorSchema,\n      schema,\n      uiSchema\n    } = this.state;\n    const {\n      formContext\n    } = this.props;\n    const options = getUiOptions(uiSchema);\n    const ErrorListTemplate = getTemplate('ErrorListTemplate', registry, options);\n    if (errors && errors.length) {\n      return _jsx(ErrorListTemplate, {\n        errors: errors,\n        errorSchema: errorSchema || {},\n        schema: schema,\n        uiSchema: uiSchema,\n        formContext: formContext,\n        registry: registry\n      });\n    }\n    return null;\n  }\n  /** Returns the registry for the form */\n  getRegistry() {\n    var _a;\n    const {\n      translateString: customTranslateString,\n      uiSchema = {}\n    } = this.props;\n    const {\n      schemaUtils\n    } = this.state;\n    const {\n      fields,\n      templates,\n      widgets,\n      formContext,\n      translateString\n    } = getDefaultRegistry();\n    return {\n      fields: {\n        ...fields,\n        ...this.props.fields\n      },\n      templates: {\n        ...templates,\n        ...this.props.templates,\n        ButtonTemplates: {\n          ...templates.ButtonTemplates,\n          ...((_a = this.props.templates) === null || _a === void 0 ? void 0 : _a.ButtonTemplates)\n        }\n      },\n      widgets: {\n        ...widgets,\n        ...this.props.widgets\n      },\n      rootSchema: this.props.schema,\n      formContext: this.props.formContext || formContext,\n      schemaUtils,\n      translateString: customTranslateString || translateString,\n      globalUiOptions: uiSchema[UI_GLOBAL_OPTIONS_KEY]\n    };\n  }\n  /** Provides a function that can be used to programmatically submit the `Form` */\n  submit() {\n    if (this.formElement.current) {\n      this.formElement.current.dispatchEvent(new CustomEvent('submit', {\n        cancelable: true\n      }));\n      this.formElement.current.requestSubmit();\n    }\n  }\n  /** Attempts to focus on the field associated with the `error`. Uses the `property` field to compute path of the error\n   * field, then, using the `idPrefix` and `idSeparator` converts that path into an id. Then the input element with that\n   * id is attempted to be found using the `formElement` ref. If it is located, then it is focused.\n   *\n   * @param error - The error on which to focus\n   */\n  focusOnError(error) {\n    const {\n      idPrefix = 'root',\n      idSeparator = '_'\n    } = this.props;\n    const {\n      property\n    } = error;\n    const path = _toPath(property);\n    if (path[0] === '') {\n      // Most of the time the `.foo` property results in the first element being empty, so replace it with the idPrefix\n      path[0] = idPrefix;\n    } else {\n      // Otherwise insert the idPrefix into the first location using unshift\n      path.unshift(idPrefix);\n    }\n    const elementId = path.join(idSeparator);\n    let field = this.formElement.current.elements[elementId];\n    if (!field) {\n      // if not an exact match, try finding an input starting with the element id (like radio buttons or checkboxes)\n      field = this.formElement.current.querySelector(`input[id^=${elementId}`);\n    }\n    if (field && field.length) {\n      // If we got a list with length > 0\n      field = field[0];\n    }\n    if (field) {\n      field.focus();\n    }\n  }\n  /** Programmatically validate the form. If `onError` is provided, then it will be called with the list of errors the\n   * same way as would happen on form submission.\n   *\n   * @returns - True if the form is valid, false otherwise.\n   */\n  validateForm() {\n    const {\n      extraErrors,\n      extraErrorsBlockSubmit,\n      focusOnFirstError,\n      onError\n    } = this.props;\n    const {\n      formData,\n      errors: prevErrors\n    } = this.state;\n    const schemaValidation = this.validate(formData);\n    let errors = schemaValidation.errors;\n    let errorSchema = schemaValidation.errorSchema;\n    const schemaValidationErrors = errors;\n    const schemaValidationErrorSchema = errorSchema;\n    const hasError = errors.length > 0 || extraErrors && extraErrorsBlockSubmit;\n    if (hasError) {\n      if (extraErrors) {\n        const merged = validationDataMerge(schemaValidation, extraErrors);\n        errorSchema = merged.errorSchema;\n        errors = merged.errors;\n      }\n      if (focusOnFirstError) {\n        if (typeof focusOnFirstError === 'function') {\n          focusOnFirstError(errors[0]);\n        } else {\n          this.focusOnError(errors[0]);\n        }\n      }\n      this.setState({\n        errors,\n        errorSchema,\n        schemaValidationErrors,\n        schemaValidationErrorSchema\n      }, () => {\n        if (onError) {\n          onError(errors);\n        } else {\n          console.error('Form validation failed', errors);\n        }\n      });\n    } else if (prevErrors.length > 0) {\n      this.setState({\n        errors: [],\n        errorSchema: {},\n        schemaValidationErrors: [],\n        schemaValidationErrorSchema: {}\n      });\n    }\n    return !hasError;\n  }\n  /** Renders the `Form` fields inside the <form> | `tagName` or `_internalFormWrapper`, rendering any errors if\n   * needed along with the submit button or any children of the form.\n   */\n  render() {\n    const {\n      children,\n      id,\n      idPrefix,\n      idSeparator,\n      className = '',\n      tagName,\n      name,\n      method,\n      target,\n      action,\n      autoComplete,\n      enctype,\n      acceptcharset,\n      noHtml5Validate = false,\n      disabled = false,\n      readonly = false,\n      formContext,\n      showErrorList = 'top',\n      _internalFormWrapper\n    } = this.props;\n    const {\n      schema,\n      uiSchema,\n      formData,\n      errorSchema,\n      idSchema\n    } = this.state;\n    const registry = this.getRegistry();\n    const {\n      SchemaField: _SchemaField\n    } = registry.fields;\n    const {\n      SubmitButton\n    } = registry.templates.ButtonTemplates;\n    // The `semantic-ui` and `material-ui` themes have `_internalFormWrapper`s that take an `as` prop that is the\n    // PropTypes.elementType to use for the inner tag, so we'll need to pass `tagName` along if it is provided.\n    // NOTE, the `as` prop is native to `semantic-ui` and is emulated in the `material-ui` theme\n    const as = _internalFormWrapper ? tagName : undefined;\n    const FormTag = _internalFormWrapper || tagName || 'form';\n    let {\n      [SUBMIT_BTN_OPTIONS_KEY]: submitOptions = {}\n    } = getUiOptions(uiSchema);\n    if (disabled) {\n      submitOptions = {\n        ...submitOptions,\n        props: {\n          ...submitOptions.props,\n          disabled: true\n        }\n      };\n    }\n    const submitUiSchema = {\n      [UI_OPTIONS_KEY]: {\n        [SUBMIT_BTN_OPTIONS_KEY]: submitOptions\n      }\n    };\n    return _jsxs(FormTag, {\n      className: className ? className : 'rjsf',\n      id: id,\n      name: name,\n      method: method,\n      target: target,\n      action: action,\n      autoComplete: autoComplete,\n      encType: enctype,\n      acceptCharset: acceptcharset,\n      noValidate: noHtml5Validate,\n      onSubmit: this.onSubmit,\n      as: as,\n      ref: this.formElement,\n      children: [showErrorList === 'top' && this.renderErrors(registry), _jsx(_SchemaField, {\n        name: '',\n        schema: schema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        idSeparator: idSeparator,\n        formContext: formContext,\n        formData: formData,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        registry: registry,\n        disabled: disabled,\n        readonly: readonly\n      }), children ? children : _jsx(SubmitButton, {\n        uiSchema: submitUiSchema,\n        registry: registry\n      }), showErrorList === 'bottom' && this.renderErrors(registry)]\n    });\n  }\n}","map":{"version":3,"names":["Component","createRef","createSchemaUtils","deepEquals","getTemplate","getUiOptions","isObject","mergeObjects","NAME_KEY","RJSF_ADDITONAL_PROPERTIES_FLAG","shouldRender","SUBMIT_BTN_OPTIONS_KEY","toErrorList","UI_GLOBAL_OPTIONS_KEY","UI_OPTIONS_KEY","validationDataMerge","_get","_isEmpty","_pick","_toPath","getDefaultRegistry","Form","constructor","props","getUsedFormData","formData","fields","length","data","Array","isArray","Object","keys","map","key","getFieldNames","pathSchema","getAllPaths","_obj","acc","paths","forEach","newPaths","path","push","formValue","every","val","onChange","newErrorSchema","id","extraErrors","omitExtraData","liveOmit","noValidate","liveValidate","schemaUtils","schema","retrievedSchema","state","newState","getStateFromProps","mustValidate","newFormData","_retrievedSchema","retrieveSchema","toPathSchema","fieldNames","schemaValidation","validate","errors","errorSchema","schemaValidationErrors","schemaValidationErrorSchema","merged","setState","reset","undefined","onBlur","onFocus","onSubmit","event","preventDefault","target","currentTarget","persist","validateForm","status","validator","Error","formElement","getSnapshotBeforeUpdate","prevProps","prevState","nextState","shouldUpdate","componentDidUpdate","_","snapshot","inputFormData","uiSchema","edit","rootSchema","experimental_defaultFormStateBehavior","doesSchemaUtilsDiffer","getDefaultFormState","getCurrentErrors","currentErrors","idSchema","toIdSchema","idPrefix","idSeparator","shouldComponentUpdate","nextProps","altSchemaUtils","customValidate","transformErrors","resolvedSchema","getValidator","validateFormData","renderErrors","registry","formContext","options","ErrorListTemplate","_jsx","getRegistry","translateString","customTranslateString","templates","widgets","ButtonTemplates","_a","globalUiOptions","submit","current","dispatchEvent","CustomEvent","cancelable","requestSubmit","focusOnError","error","property","unshift","elementId","join","field","elements","querySelector","focus","extraErrorsBlockSubmit","focusOnFirstError","onError","prevErrors","hasError","console","render","children","className","tagName","name","method","action","autoComplete","enctype","acceptcharset","noHtml5Validate","disabled","readonly","showErrorList","_internalFormWrapper","SchemaField","_SchemaField","SubmitButton","as","FormTag","submitOptions","submitUiSchema","_jsxs","encType","acceptCharset","ref"],"sources":["../../src/components/Form.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}