{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'./MyComponent2.css';// Import your CSS file for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MyComponent2=()=>{const[myData,setMyData]=useState([]);const fetchData=async()=>{try{const response=await axios.get('https://ap-southeast-1.aws.data.mongodb-api.com/app/data-fmace/endpoint/display_3latestvalue');setMyData(response.data);}catch(error){console.error('Error fetching data:',error);}};const startPolling=()=>{const pollingInterval=setInterval(fetchData,1000);return()=>clearInterval(pollingInterval);};useEffect(()=>{fetchData();const stopPolling=startPolling();return()=>{stopPolling();};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"my-data-container\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"my-data-title\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Danh S\\xE1ch S\\u1EA3n Ph\\u1EA9m: \"}),myData.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"my-list\",children:myData.map((dataItem,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"my-list-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"item-index\",children:[index+1,\".\"]}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",dataItem.ten,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u3164 Kh\\u1ED1i L\\u01B0\\u1EE3ng:\"}),\" \",dataItem.khoiLuong,\" gram\"]},index))}):/*#__PURE__*/_jsx(\"span\",{className:\"no-data-message\",children:\"No data available.\"})]})});};export default MyComponent2;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","MyComponent2","myData","setMyData","fetchData","response","get","data","error","console","startPolling","pollingInterval","setInterval","clearInterval","stopPolling","className","children","length","map","dataItem","index","ten","khoiLuong"],"sources":["D:/Reactjs/my-app/src/components/MyComponent2.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './MyComponent2.css'; // Import your CSS file for styling\r\n\r\nconst MyComponent2 = () => {\r\n  const [myData, setMyData] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get('https://ap-southeast-1.aws.data.mongodb-api.com/app/data-fmace/endpoint/display_3latestvalue');\r\n      setMyData(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  const startPolling = () => {\r\n    const pollingInterval = setInterval(fetchData, 1000);\r\n    return () => clearInterval(pollingInterval);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    const stopPolling = startPolling();\r\n\r\n    return () => {\r\n      stopPolling();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"my-data-container\">\r\n      <h1 className=\"my-data-title\">\r\n        <span>Danh Sách Sản Phẩm: </span>\r\n        {myData.length > 0 ? (\r\n          <ul className=\"my-list\">\r\n            {myData.map((dataItem, index) => (\r\n              <li key={index} className=\"my-list-item\">\r\n                <span className=\"item-index\">{index + 1}.</span> {/* Số thứ tự */}\r\n                <strong>Tên:</strong> {dataItem.ten} <br /> <strong>ㅤ Khối Lượng:</strong> {dataItem.khoiLuong} gram\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <span className=\"no-data-message\">No data available.</span>\r\n        )}\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyComponent2;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAS,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,8FAA8F,CAAC,CAChIH,SAAS,CAACE,QAAQ,CAACE,IAAI,CAAC,CAC1B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,eAAe,CAAGC,WAAW,CAACR,SAAS,CAAE,IAAI,CAAC,CACpD,MAAO,IAAMS,aAAa,CAACF,eAAe,CAAC,CAC7C,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACdU,SAAS,CAAC,CAAC,CACX,KAAM,CAAAU,WAAW,CAAGJ,YAAY,CAAC,CAAC,CAElC,MAAO,IAAM,CACXI,WAAW,CAAC,CAAC,CACf,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,IAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChChB,KAAA,OAAIe,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3BlB,IAAA,SAAAkB,QAAA,CAAM,mCAAoB,CAAM,CAAC,CAChCd,MAAM,CAACe,MAAM,CAAG,CAAC,cAChBnB,IAAA,OAAIiB,SAAS,CAAC,SAAS,CAAAC,QAAA,CACpBd,MAAM,CAACgB,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAC1BpB,KAAA,OAAgBe,SAAS,CAAC,cAAc,CAAAC,QAAA,eACtChB,KAAA,SAAMe,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAEI,KAAK,CAAG,CAAC,CAAC,GAAC,EAAM,CAAC,IAAC,cACjDtB,IAAA,WAAAkB,QAAA,CAAQ,SAAI,CAAQ,CAAC,IAAC,CAACG,QAAQ,CAACE,GAAG,CAAC,GAAC,cAAAvB,IAAA,QAAK,CAAC,IAAC,cAAAA,IAAA,WAAAkB,QAAA,CAAQ,mCAAa,CAAQ,CAAC,IAAC,CAACG,QAAQ,CAACG,SAAS,CAAC,OACjG,GAHSF,KAGL,CACL,CAAC,CACA,CAAC,cAELtB,IAAA,SAAMiB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,oBAAkB,CAAM,CAC3D,EACC,CAAC,CACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}